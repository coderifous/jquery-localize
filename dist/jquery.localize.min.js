/*! Localize - v0.1.0 - 2014-03-09
 * https://github.com/mkloubert/jquery-localize
 * Copyright (c) 2014 mkloubert; Licensed MIT */
(function(e){var t;t=function(e){e=e.replace(/_/,"-").toLowerCase();if(e.length>3){e=e.substring(0,3)+e.substring(3).toUpperCase()}return e};e.defaultLanguage=t(navigator.language||navigator.userLanguage);e.localize=function(n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;if(r==null){r={}}w=this;o={};s=r.fileExtension||"json";f=function(e,t,n){var i;if(n==null){n=1}switch(n){case 1:o={};if(r.loadBase){i=e+("."+s);return u(i,e,t,n)}else{return f(e,t,2)}break;case 2:if(t.length>=2){i=""+e+"-"+t.substring(0,2)+"."+s;return u(i,e,t,n)}break;case 3:if(t.length>=5){i=""+e+"-"+t.substring(0,5)+"."+s;return u(i,e,t,n)}}};u=function(t,n,i,s){var u,a,l;if(r.pathPrefix!=null){t=""+r.pathPrefix+"/"+t}l=function(t){e.extend(o,t);v(o);return f(n,i,s+1)};a=function(){if(r.fallback&&r.fallback!==i){return f(n,r.fallback)}};u={url:t,dataType:"json",async:false,timeout:r.timeout!=null?r.timeout:500,success:l,error:a};if(window.location.protocol==="file:"){u.error=function(t){return l(e.parseJSON(t.responseText))}}return e.ajax(u)};v=function(e){if(r.callback!=null){return r.callback(e,i)}else{return i(e)}};i=function(t){e.localize.data[n]=t;return w.each(function(){var n,r,i;n=e(this);r=n.data("localize");r||(r=n.attr("rel").match(/localize\[(.*?)\]/)[1]);i=b(r,t);if(i!=null){return l(n,r,i)}})};l=function(t,n,r){if(t.is("input")){p(t,n,r)}else if(t.is("img")){h(t,n,r)}else if(t.is("optgroup")){d(t,n,r)}else if(!e.isPlainObject(r)){t.html(r)}if(e.isPlainObject(r)){return c(t,r)}};p=function(t,n,r){var i;i=e.isPlainObject(r)?r.value:r;if(t.is("[placeholder]")){return t.attr("placeholder",i)}else{return t.val(i)}};c=function(e,t){g(e,"title",t);return y(e,"text",t)};d=function(e,t,n){return e.attr("label",n)};h=function(e,t,n){g(e,"alt",n);return g(e,"src",n)};b=function(e,t){var n,r,i,s;n=e.split(/\./);r=t;for(i=0,s=n.length;i<s;i++){e=n[i];r=r!=null?r[e]:null}return r};g=function(e,t,n){n=b(t,n);if(n!=null){return e.attr(t,n)}};y=function(e,t,n){n=b(t,n);if(n!=null){return e.text(n)}};m=function(e){var t;if(typeof e==="string"){return"^"+e+"$"}else if(e.length!=null){return function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++){t=e[n];i.push(m(t))}return i}().join("|")}else{return e}};a=t(r.language?r.language:e.defaultLanguage);if(!(r.skipLanguage&&a.match(m(r.skipLanguage)))){f(n,a,1)}else{if(r.skipCallback){r.skipCallback({language:a,defaultLanguage:e.defaultLanguage})}}return w};e.fn.localize=e.localize;return e.localize.data={}})(jQuery)